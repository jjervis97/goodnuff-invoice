<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Good ’Nuff Invoice</title>

<style>
:root {
  --pad: 14px;
  --border: #ddd;
}

body {
  font-family: -apple-system, system-ui, Segoe UI, Roboto, Arial, sans-serif;
  margin: 0;
  background: #f4f4f4;
}

header {
  background: #111;
  color: #fff;
  padding: 16px;
}

header h1 {
  margin: 0;
  font-size: 18px;
}

main {
  max-width: 900px;
  margin: auto;
  padding: 14px;
}

.card {
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: var(--pad);
  margin-bottom: 16px;
}

.row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

label {
  font-size: 12px;
  display: block;
  margin-bottom: 4px;
}

input, textarea, select {
  width: 100%;
  padding: 8px;
  border: 1px solid var(--border);
  border-radius: 6px;
  font-size: 14px;
  box-sizing: border-box;
}

textarea { resize: vertical; }

button {
  padding: 8px 12px;
  border-radius: 6px;
  border: none;
  background: #111;
  color: white;
  cursor: pointer;
}

button.secondary {
  background: #eee;
  color: #111;
}

.actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 12px;
}

table {
  width: 100%;
  border-collapse: collapse;
}

th, td {
  border-bottom: 1px solid #eee;
  padding: 8px;
  font-size: 14px;
}

th { text-align: left; }

.num { text-align: right; }

.totals {
  margin-top: 12px;
}

.totals div {
  display: flex;
  justify-content: space-between;
  padding: 4px 0;
}

strong { font-size: 16px; }

.noPrint { }

.tip {
  font-size: 12px;
  color: #666;
  margin-top: 8px;
}

/* PRINT CLEANUP */

@page { margin: 12mm; }

@media print {

  header,
  .noPrint,
  .tip,
  button,
  .actions {
    display: none !important;
  }

  body { background: #fff !important; }
  main { padding: 0 !important; }
  .card { border: none !important; }

  th, td {
    border-bottom: 1px solid #ccc !important;
  }
}
</style>
</head>

<body>

<header>
  <h1>Good ’Nuff Mobile Mechanic — Invoice</h1>
</header>

<main>

<div class="card">

<div class="row">
<div>
<label>Invoice #</label>
<input id="invoiceNo" readonly>
</div>

<div>
<label>Date</label>
<input id="invoiceDate" type="date">
</div>
</div>

<div class="row" style="margin-top:10px;">
<div>
<label>Customer Name</label>
<input id="custName">
</div>

<div>
<label>Customer Phone / Email</label>
<input id="custContact">
</div>
</div>

<div style="margin-top:10px;">
<label>Vehicle (Year Make Model)</label>
<input id="vehicle">
</div>

</div>

<div class="card">

<table>
<thead>
<tr>
<th>Description</th>
<th class="num">Qty</th>
<th class="num">Rate</th>
<th class="num">Amount</th>
</tr>
</thead>
<tbody id="itemsBody"></tbody>
</table>

<div class="actions noPrint">
<button onclick="addRow()">Add Item</button>
<button class="secondary" onclick="newInvoice()">New Invoice</button>
<button class="secondary" onclick="window.print()">Print / Save PDF</button>
</div>

<div class="tip noPrint">
Tip: Tap Print → pinch out preview → Share → Save to Files.
</div>

<div class="totals">
<div><span>Subtotal</span><span id="subTotal">$0.00</span></div>
<div><span>Tax (7%)</span><span id="taxTotal">$0.00</span></div>
<div><strong>Total</strong><strong id="grandTotal">$0.00</strong></div>
</div>

</div>

</main>

<script>

let counter = 1;

function money(n) {
  return "$" + n.toFixed(2);
}

function addRow(desc="", qty=1, rate=0) {
  const tbody = document.getElementById("itemsBody");
  const tr = document.createElement("tr");

  tr.innerHTML = `
    <td><input value="${desc}"></td>
    <td class="num"><input type="number" value="${qty}" min="0" step="1" onchange="recalc()"></td>
    <td class="num"><input type="number" value="${rate}" min="0" step="0.01" onchange="recalc()"></td>
    <td class="num">$0.00</td>
  `;

  tbody.appendChild(tr);
  recalc();
}

function recalc() {
  const rows = document.querySelectorAll("#itemsBody tr");
  let subtotal = 0;

  rows.forEach(r => {
    const qty = Number(r.children[1].querySelector("input").value);
    const rate = Number(r.children[2].querySelector("input").value);
    const amount = qty * rate;
    r.children[3].textContent = money(amount);
    subtotal += amount;
  });

  const tax = subtotal * 0.07;
  const total = subtotal + tax;

  document.getElementById("subTotal").textContent = money(subtotal);
  document.getElementById("taxTotal").textContent = money(tax);
  document.getElementById("grandTotal").textContent = money(total);
}

function newInvoice() {
  counter++;
  document.getElementById("invoiceNo").value =
    "GOODNUFF-2026-" + String(counter).padStart(4,"0");
}

document.getElementById("invoiceDate").value =
  new Date().toISOString().slice(0,10);

document.getElementById("invoiceNo").value =
  "GOODNUFF-2026-0001";

addRow();

</script>

</body>
</html>
